<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

</head>

<body>
<h2>線性迴歸</h2>

<textarea rows="10" style="width:100%"></textarea>
<button onclick="show_xy()">迴歸</button><button onclick="show_table()">陣列</button>
<div id="demo"></div>

<script>
function show_xy(){
    var str = $("textarea").val();
	var row = str.split("\n")
	var html = "<table>";
	for(var i=0;i<row.length;i++){
		col = row[i].split("\t");
		html += "<tr>";
		for(var j=0;j<col.length;j++){
			html += "<td>" + col[j] + "</td>";
		}
		html += "</tr>";
	}
	html += "</table>";
	$("#demo").html(html);
}

function get_array(s){
	var arr = s.split("\n")
	for(var i=0;i<arr.length;i++){
		arr[i] = arr[i].split("\t");
	}
	return arr;
}
function show_table(){
	var str = $("textarea").val();
	var arr = get_array(str);
	var data = [];
	for(var i=0;i<arr.length;i++){
		x = arr[i][0];
		y = arr[i][1];
		if(x != "" && y != ""){
			data.push([x,y]);
		}
	}
	var t = "";
	for(var i=0;i<data.length;i++){
		t = t + "[" + data[i] + "]"
	}
	$("#demo").html(t);
}
</script>

</body>
</html>
